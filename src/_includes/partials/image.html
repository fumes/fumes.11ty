{% comment %}
Responsive images. For use in posts inside 11ty/liquid markdown.

Example:
{% include image.html name: "" caption: "test" %}
this will grab the first image used also in the post header

or

{% include image.html, name: "-04", caption: "test" %}
this will grab the 4th image
{% endcomment %}

{% comment %}
2do:
Write the caption into a file with same name as image (image.md)
Develop the code to suck it here as caption (as kirby does!)
It'd be very convenient as to write the caption you have to go see the image anyway...
(tried w/ Jekyll, but seems impossible, maybe can using 11ty...)
{% endcomment %}

<figure class="post_content_image">
  {% comment %} assign the page image and split at the extension dot{% endcomment %}{% assign f = image | split: '.' %}<img loading="lazy" src="{{ f[0] | relative_url }}{{ name }}-640.{{ f[1] }}"
       srcset="{{ f[0] | relative_url }}{{ name }}-640.{{ f[1] }} 640w,
               {{ f[0] | relative_url }}{{ name }}-880.{{ f[1] }} 880w,
               {{ f[0] | relative_url }}{{ name }}-1024.{{ f[1] }} 1024w,
               {{ f[0] | relative_url }}{{ name }}-1920.{{ f[1] }} 1920w"
       sizes="100vw" alt="{{ site.title }} - {{ title }} {% if photographer %}- photo by {{ photographer | upcase }}{% endif %}" />{% if caption %}<figcaption><strong>{{ caption }}</strong></figcaption>{% endif %}

 </figure>
